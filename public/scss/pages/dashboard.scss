@import '../settings/var';
@import '../settings/mixin';

.page{
	.page-header{
		background-color: var(--primary);
	}

	.page-body{
		background-color: var(--gray-1);
	}
}

.user-info-wrapper{
	min-width: 200px;

	position: absolute;
	z-index: 1030;

	.card{
		.card-body{
			.user-info{
				@include d-flex(row, flex-start, flex-start);

				.img-mask{
					width: 40px;
					height: 40px;

					margin-right: 0.5rem;
				}

				.text{
					h6{
						max-width: 200px;

						margin-bottom: 0.375rem;
						font-weight: 600;

						overflow: hidden;
						text-overflow: ellipsis;

						white-space: nowrap;
					}

					p{
						margin-bottom: 0.25rem;

						font-size: 0.75rem;
						line-height: normal;

						&:last-of-type{
							margin-bottom: 0.5rem;
						}
					}

					.btn{
						width: 100px;
					}
				}
			}
		}
	}
}

.view-dashboard{
	height: 100%;

	padding: 1rem 1.5rem 0.5rem;

	.dashboard-wrapper{
		height: 100%;

		@include d-flex(row, flex-start, flex-start);

		.list-events,
		.chat-area{
			height: 100%;

			padding: 0 0.75rem;

			.card{
				border: none;

				.card-header{
					padding: 0.75rem;

					h6{
						font-weight: 700;
					}
				}
			}
		}

		.list-events{
			width: 75%;

			.card{
				height: 100%;

				.card-header{
					height: 45px;
				}

				.card-body{
					height: calc(100% - 45px);

					padding: 0;

					.nav {
						&.nav-pills{
							height: 40px;

							padding: 0 1.5rem;

							background-color: var(--bg-bw);
		
							@include positionSticky(top, 0, 10);
		
							.nav-item{
								.nav-link{
									padding: 0.375rem 0.75rem;

									color: var(--text-paragraph);

									&.active{
										font-weight: 700;
										background-color: var(--primary);
										color: var(--white);

										@include borderRadius(2rem);
									}
								}
							}
						}
					}
		
					.tab-content{
						height: calc(100% - 40px);
						
						.tab-pane{
							height: 100%;

							overflow-x: hidden;
							@include overflow-y();
							
							.event-schedule{
								.event-item{
									padding: 0 0.75rem;
		
									.event-time{
										width: 100%;
		
										margin-bottom: 0.75rem;
										padding: 0 0.75rem;

										@include d-flex(row, space-between, center);

										&:after{
											content: '';

											flex: 1 0 auto;
											height: 2px;

											background-color: var(--gray-3);
										}
		
										h6{
											max-width: 150px;
											flex: 1 0 150px;

											padding: 0.25rem 0.5rem;

											border: 2px solid var(--gray-3);
											color: var(--text-subtitle);
											
											font-weight: 600;

											text-align: center;

											@include borderRadius(2rem);
										}
									}
		
									.event-content{
										width: 100%;
		
										flex-wrap: wrap;
										@include d-flex(row, flex-start, flex-start);

										overflow-y: hidden;
										@include overflow-x();
										@include overflow-hidden();
		
										.item-event{
											width: 50%;
		
											padding: 0 1rem;
											margin-bottom: 2rem;
		
											&:not(:first-child){
												&:hover{
													.controls{
														opacity: 1;

														@include translate(0, 0);

														@include transition();
													}
												}
		
												.controls{
													opacity: 0;

													@include translate(0, 100%);

													@include transition();
												}
											}

											&:hover{
												.ratio-wrapper{
													.img-mask{
														img{
															@include scale(1.1, 1.1);
															@include transition();
														}
													}
												}
											}
		
											.ratio-wrapper{
												overflow: hidden;
		
												.img-mask{
													@include borderRadius();

													img{
														@include transition();
													}
												}
		
												.overlay{
													width: 100%;
													height: 100%;
		
													padding: 0.75rem;
		
													background-color: var(--bg-bw-rv-alpha-50);
		
													position: absolute;
													top: 50%;
													left: 50%;
													z-index: 2;
		
													@include borderRadius();
		
													@include translate(-50%, -50%);
													@include d-flex(column, flex-end, flex-start);
		
													h6{
														max-width: 100%;

														margin-bottom: 0.5rem;

														font-weight: 600;
														color: var(--white);

														overflow: hidden;
														text-overflow: ellipsis;

														white-space: nowrap;
													}

													.controls{
														width: 100%;

														@include d-flex(row, flex-start, center);
				
														.btn{
															flex: 1 0 auto;
				
															padding: 0.375rem 0.5rem;

															border-width: 2px;

															font-size: 0.75rem;
															font-weight: 600;
				
															&:not(:last-child){
																margin-right: 0.5rem;
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}

		.chat-area{
			width: 25%;

			&.chat-area-collapsed{
				.chat-box{
					height: 50%;
				}
			}

			.chat-box{
				width: 100%;
				height: 100%;

				&:first-child{
					margin-bottom: 0.75rem;
				}

				&.chat-private{
					height: calc(50% - 0.75rem);

					display: none;

					.card{
						.card-body{
							height: calc(100% - 108px);
						}
					}
				}

				.card{
					height: 100%;

					.card-header{
						height: 50px;

						h6{
							font-weight: 600;
						}

						.btn{
							&.btn-close-chat{
								padding: 0;
							}
						}
					}

					.card-body{
						height: calc(100% - 58px);
						padding: 0;

						@include d-flex(row, flex-start, stretch);

						.list-users-wrapper{
							width: 120px;

							border-right: 1px solid var(--gray-1);

							overflow-x: hidden;
							@include overflow-y();

							@include overflow-hidden();

							.list-users{
								.select-user-item{
									a{
										&.select-user{
											padding: 0.5rem;

											@include d-flex(row, flex-start, center);
	
											.img-mask-wrapper{
												width: 32px;
												height: 32px;

												margin-right: 0.5rem;

												position: relative;
	
												.img-mask{
													width: 100%;
													height: 100%;
		
													border: 1px solid var(--border);
												}
		
												.unread,
												.status {
													.circle{
														width: 12px;
														height: 12px;
		
														background-color: var(--gray-4);
		
														@include borderRadius(50%);
													}
												}
		
												.unread{
													position: absolute;
													top: -6px;
													right: -4px;
													z-index: 1;
		
													// display: none;
		
													.circle{
														width: 16px;
														height: 16px;
		
														background-color: var(--gray-2);
														border: 1px solid var(--white);
													}
		
													.circle{
														font-size: 0.625rem;
														color: var(--text-paragraph);
		
														@include d-flex(row, center, center);
													}
												}
		
												.status{
													position: absolute;
													bottom: -2px;
													right: -2px;
													z-index: 1;
												}
											}

											h6{
												width: calc(100% - 32px - 0.5rem);

												overflow: hidden;
												text-overflow: ellipsis;

												white-space: nowrap;
											}
										}
									}	
								}
							}
						}

						.chat-append{
							max-width: 100%;
							flex: 1 1 auto;

							height: 100%;

							padding: 0.875rem;

							overflow-x: hidden;
							@include overflow-y();

							.chat-delay{
								margin: 0.5rem 0;
		
								display: block;
								text-align: center;
							}
		
							.chat-item{
								&:not(:last-child){
									margin-bottom: 0.5rem;
								}
		
								@include d-flex(row, flex-start, flex-start);
		
								&.chat-item-mine{
									@include d-flex(row-reverse, flex-start, flex-start);
		
									.item-content{
										width: 90%;
		
										@include d-flex(column, flex-start, flex-end);
		
										.content-chat{
											@include d-flex(column, flex-start, flex-end);
		
											p{
												background-color: var(--primary);
												color: var(--white);
											}
										}
									}
								}
		
								.item-avatar{
									width: 32px;
									height: 32px;
		
									margin-right: 0.5rem;
		
									.img-mask{
										width: 100%;
										height: 100%;
									}
								}
		
								.item-content{
									width: calc(100% - 32px - 0.5rem);
		
									@include d-flex(column, flex-start, flex-start);
		
									> p {
										&.p-name{
											margin-bottom: 0.25rem;
		
											font-size: 0.75rem;
										}
									}
		
									.content-chat{
										max-width: 90%;
		
										@include d-flex(column, flex-start, flex-start);
		
										p{
											padding: 0.375rem;
		
											background-color: var(--gray-1);
											font-size: 0.875rem;
		
											@include borderRadius(0.5rem);
		
											&:not(:last-child){
												margin-bottom: 0.25rem;
											}
										}
									}
								}
							}
						}
					}
					
					.card-footer{
						height: 58px;
						padding: 0.75rem;

						.form-control{
							margin-right: 0.75rem;
						}

						.btn{
							min-width: 100px;
						}
					}
				}
			}
		}
	}
}